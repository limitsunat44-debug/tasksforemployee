<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Loading Indicator -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="spinner"></div>
  </div>

  <!-- Toast Notifications -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Login Screen -->
  <div id="loginScreen" class="screen">
    <div class="login-container">
      <div class="login-card">
        <h1 class="login-title">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
        <form id="loginForm">
          <div class="form-group">
            <label for="username">–õ–æ–≥–∏–Ω</label>
            <input type="text" id="username" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" required>
          </div>
          <div class="form-group">
            <label for="password">–ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="password" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
          </div>
          <button type="submit" class="btn btn-primary btn-full">–í–æ–π—Ç–∏</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div id="adminScreen" class="screen hidden">
    <div class="header">
      <h1 class="header-title">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
      <button id="adminLogout" class="btn btn-small btn-secondary">–í—ã–π—Ç–∏</button>
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-tab="adminDashboard">Dashboard</button>
      <button class="tab-btn" data-tab="adminEmployees">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</button>
      <button class="tab-btn" data-tab="adminTasks">–ó–∞–¥–∞—á–∏</button>
      <button class="tab-btn" data-tab="adminSettings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </div>

    <!-- Admin Dashboard Tab -->
    <div id="adminDashboard" class="tab-content active">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-value" id="totalEmployees">0</div>
          <div class="stat-label">–í—Å–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìã</div>
          <div class="stat-value" id="activeTasks">0</div>
          <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚úÖ</div>
          <div class="stat-value" id="completedTasks">0</div>
          <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á</div>
        </div>
      </div>
    </div>

    <!-- Admin Employees Tab -->
    <div id="adminEmployees" class="tab-content">
      <div class="tab-header">
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏</h2>
        <button id="addEmployeeBtn" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
      </div>
      <div id="employeesList" class="items-list"></div>
    </div>

    <!-- Admin Tasks Tab -->
    <div id="adminTasks" class="tab-content">
      <div class="tab-header">
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</h2>
        <button id="addTaskBtn" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
      </div>
      <div class="filters">
        <select id="filterEmployee" class="form-input">
          <option value="">–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</option>
        </select>
        <select id="filterPriority" class="form-input">
          <option value="">–í—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</option>
          <option value="urgent">–°—Ä–æ—á–Ω–æ</option>
          <option value="normal">–û–±—ã—á–Ω–æ</option>
        </select>
        <select id="filterStatus" class="form-input">
          <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
          <option value="not_started">–ù–µ –Ω–∞—á–∞—Ç–∞</option>
          <option value="in_progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
          <option value="completed">–í—ã–ø–æ–ª–Ω–µ–Ω–∞</option>
          <option value="rejected">–û—Ç–∫–ª–æ–Ω–µ–Ω–∞</option>
        </select>
      </div>
      <div id="tasksList" class="items-list"></div>
    </div>

    <!-- Admin Settings Tab -->
    <div id="adminSettings" class="tab-content">
      <div class="tab-header">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
      </div>
      <div class="settings-card">
        <h3>–ü–æ—Ä–æ–≥–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤</h3>
        <form id="settingsForm">
          <div class="form-group">
            <label for="silverThreshold">–ü–æ—Ä–æ–≥ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "–°–µ—Ä–µ–±—Ä–æ" (–±–∞–ª–ª–æ–≤ –≤ –Ω–µ–¥–µ–ª—é)</label>
            <input type="number" id="silverThreshold" class="form-input" min="1" required>
          </div>
          <div class="form-group">
            <label for="goldThreshold">–ü–æ—Ä–æ–≥ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "–ó–æ–ª–æ—Ç–æ" (–±–∞–ª–ª–æ–≤ –≤ –Ω–µ–¥–µ–ª—é)</label>
            <input type="number" id="goldThreshold" class="form-input" min="1" required>
          </div>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Employee Dashboard -->
  <div id="employeeScreen" class="screen hidden">
    <div class="header">
      <h1 class="header-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
      <button id="employeeLogout" class="btn btn-small btn-secondary">–í—ã–π—Ç–∏</button>
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-tab="employeeDashboard">–ü—Ä–æ—Ñ–∏–ª—å</button>
      <button class="tab-btn" data-tab="employeeTasks">–ú–æ–∏ –∑–∞–¥–∞—á–∏</button>
      <button class="tab-btn" data-tab="employeeColleagues">–ö–æ–ª–ª–µ–≥–∏</button>
    </div>

    <!-- Employee Dashboard Tab -->
    <div id="employeeDashboard" class="tab-content active">
      <div class="profile-card">
        <div class="profile-header">
          <div class="profile-avatar" id="employeeAvatar">üë§</div>
          <div class="profile-info">
            <h2 id="employeeName"></h2>
            <p id="employeePosition"></p>
            <p id="employeeWorkplace"></p>
          </div>
        </div>
        <div class="profile-stats">
          <div class="profile-stat">
            <div class="profile-stat-label">–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å</div>
            <div class="profile-stat-value" id="employeeStatus"></div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-label">–ë–∞–ª–ª—ã —ç—Ç–æ–≥–æ –º–µ—Å—è—Ü–∞</div>
            <div class="profile-stat-value" id="employeePoints">0</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Employee Tasks Tab -->
    <div id="employeeTasks" class="tab-content">
      <div class="tab-header">
        <h2>–ú–æ–∏ –∑–∞–¥–∞—á–∏</h2>
      </div>
      <div id="myTasksList" class="items-list"></div>
    </div>

    <!-- Employee Colleagues Tab -->
    <div id="employeeColleagues" class="tab-content">
      <div class="tab-header">
        <h2>–ö–æ–ª–ª–µ–≥–∏</h2>
      </div>
      <div id="colleaguesList" class="items-list"></div>
    </div>
  </div>

  <!-- Modal for Add/Edit Employee -->
  <div id="employeeModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="employeeModalTitle">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
        <button class="modal-close" onclick="closeModal('employeeModal')">&times;</button>
      </div>
      <form id="employeeForm">
        <input type="hidden" id="employeeId">
        <div class="form-group">
          <label for="employeeUsername">–õ–æ–≥–∏–Ω *</label>
          <input type="text" id="employeeUsername" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="employeePassword">–ü–∞—Ä–æ–ª—å *</label>
          <input type="password" id="employeePassword" class="form-input">
          <small>–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å</small>
        </div>
        <div class="form-group">
          <label for="employeeFullName">–ü–æ–ª–Ω–æ–µ –∏–º—è *</label>
          <input type="text" id="employeeFullName" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="employeePosition">–î–æ–ª–∂–Ω–æ—Å—Ç—å *</label>
          <input type="text" id="employeePosition" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="employeeWorkplace">–ú–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã *</label>
          <input type="text" id="employeeWorkplace" class="form-input" required>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="closeModal('employeeModal')">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal for Add/Edit Task -->
  <div id="taskModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="taskModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</h2>
        <button class="modal-close" onclick="closeModal('taskModal')">&times;</button>
      </div>
      <form id="taskForm">
        <input type="hidden" id="taskId">
        <div class="form-group">
          <label for="taskEmployee">–°–æ—Ç—Ä—É–¥–Ω–∏–∫ *</label>
          <select id="taskEmployee" class="form-input" required></select>
        </div>
        <div class="form-group">
          <label for="taskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ *</label>
          <input type="text" id="taskTitle" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="taskDescription">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
          <textarea id="taskDescription" class="form-input" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label for="taskPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç *</label>
          <select id="taskPriority" class="form-input" required>
            <option value="normal">–û–±—ã—á–Ω–æ</option>
            <option value="urgent">–°—Ä–æ—á–Ω–æ</option>
          </select>
        </div>
        <div class="form-group">
          <label for="taskDeadline">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è *</label>
          <input type="date" id="taskDeadline" class="form-input" required>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="closeModal('taskModal')">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal for Update Task Status -->
  <div id="statusModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏</h2>
        <button class="modal-close" onclick="closeModal('statusModal')">&times;</button>
      </div>
      <form id="statusForm">
        <input type="hidden" id="statusTaskId">
        <div class="form-group">
          <label for="taskStatus">–°—Ç–∞—Ç—É—Å *</label>
          <select id="taskStatus" class="form-input" required>
            <option value="not_started">–ù–µ –Ω–∞—á–∞—Ç–∞</option>
            <option value="in_progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
            <option value="completed">–í—ã–ø–æ–ª–Ω–µ–Ω–∞</option>
            <option value="rejected">–û—Ç–∫–ª–æ–Ω–µ–Ω–∞</option>
          </select>
        </div>
        <div class="form-group" id="progressGroup">
          <label for="taskProgress">–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (%)</label>
          <input type="number" id="taskProgress" class="form-input" min="0" max="100" value="0">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="closeModal('statusModal')">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>